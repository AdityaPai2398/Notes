## Installation

Rust can be installed through `rusetup` a CLI to manage Rust versions and
associated tools.

To install rust download and run the following shell script:

```
$ curl https://sh.rustup.rs -sSf | sh
```

## Update

```
$ rustup update
```

## Uninstall

```
$ rustup self uninstall
```
### Hello World

Write a file `main.rs` for word separators in filenames use underscores.

```rust
fn main() {
    println!("Hello world");
}
```

**Compile and Run**

```
$ rustc main.rs
$ ./main
```
Rust is an ahead-of-time compiled language, which means that one can compile a
program, give the executable to someone else, and they can run it even without
having Rust installed.

## Rust Program: Anatomy

- The main function is the first one to run for every executable rust program.
- Indentation uses 4 spaces (not tabs).
- Function calls with `!` at the end like the `println!` in the above example
  means its calling a Rust macro. Normal function calls don't include `!`.
- Semicolons are used to indicate end of expressions.


## Cargo

Cargo is used for the following tasks in rust projects:
- as a package manager
- as a build system
- downloads and builds the project dependencies

### Creating a project with Cargo

```
$ cargo new hello_cargo --bin
$ cd hello_cargo
```

This creates a new executable in the current directory from which the command
was run from named `hello_cargo`.

The `--bin` argument creates a new binary by the name `hello_cargo`. A project
directory with the same name is also with an src directory and a config file.

The config file `Cargo.toml` contains the project metadata.

A code package in rust is called a *crate*. All the logic of a crate should
reside in the `src` directory.

To build the project run `cargo build` from the project directory. This will
create an executable in the folder `target/debug/hello_cargo`. This command also
creates a `Cargo.lock` at the project root to keep a track of the versions of
all the dependencies used just like a `pip.lock` file.

Then run `./target/debug/hello_cargo` to execute the code.

To compile and run the binary in one go use `cargo run`.

`cargo check` to only compile the code without producing any binaries.

`cargo build --release` when the project is ready for realease. This will
generate the executable in the `target/release` directory. This binary will be
created with optimizations to make the rust code run faster.

## Rust Basics

- To include packages from the stdlib use `use std::io;`. This will include the
  io package from the standard library to be used in your program.
- `let` keyword can be used to create variables. For e.g. `let foo = bar;`
  creates a variable `foo` (immutable by default) and binds it to a value `bar`.
- `mut` keyword can be used before variable names to make them mutable. E.g.
  `let mut a = b;`
- For comments we can use `//`
- Variables can be assigned to different types. Like `let mut v = String::new()`
  This calls the `new` function of type `String` to return a new instance of
  string. `::new` means `new` is a function associated with the type `String`
- Example of using stdlib methods provided we have declared `io` in the scope of
  the program using `use std::io`:
  ```
  io::stdin().read_line(&mut v)
      .expect("Failed to read line");
  ```
  `stdin` function returns an instance of `std::io::Stdin` which is a handle for
  user input. `read_line` is a method on the standard input handle to get the
  user input and store it as a string. `&mut` is a reference to a particular
  value so that it can be used throughout the code without the need to copy that
  value into the memory everytime it is used. The argument is mutable so that
  the `read_line` method can change the value of the string value and store the
  user input in it.
  `read_line` in this case returns `io:Result` which is an enum with two
  *variants* (fixed set of values that enums contain) `Ok` and `Err`.
  `io::Result` has an `expect` method that displays the message provided if it
  has the variant `Err`.
- *Placeholders:*
  ```
  let x = 5;
  let y = 10;

  println!("x = {} and y = {}", x, y);
  ```

- All the crates in a project can be updated using `cargo update`.
- To use external dependencies write this line at the top of the file.
  `extern crate <crate-name>`
- To generate the documentation `cargo doc --open`. Opens up autogenerated docs
  in the browser.
